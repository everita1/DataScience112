<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Effective Viz – Comp112 Journal</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../activities/Spacial_Viz.html" rel="next">
<link href="../activities/Multivariate-viz-exercises.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../activities/EffectiveVizActivities.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Effective Viz</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Comp112 Journal</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../activities/Multivariate-viz-exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Multivariate Viz</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../activities/EffectiveVizActivities.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Effective Viz</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../activities/Spacial_Viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Spatial viz</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../readings/EffectiveVizReading.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">EffectiveVizReading.html</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#exercises" id="toc-exercises" class="nav-link active" data-scroll-target="#exercises"><span class="header-section-number">2.1</span> Exercises</a>
  <ul class="collapse">
  <li><a href="#exercise-1-professionalism" id="toc-exercise-1-professionalism" class="nav-link" data-scroll-target="#exercise-1-professionalism">Exercise 1: Professionalism</a></li>
  <li><a href="#exercise-2-accessibility" id="toc-exercise-2-accessibility" class="nav-link" data-scroll-target="#exercise-2-accessibility">Exercise 2: Accessibility</a></li>
  <li><a href="#exercise-3-ethics" id="toc-exercise-3-ethics" class="nav-link" data-scroll-target="#exercise-3-ethics">Exercise 3: Ethics</a></li>
  <li><a href="#exercise-4-critique" id="toc-exercise-4-critique" class="nav-link" data-scroll-target="#exercise-4-critique">Exercise 4: Critique</a></li>
  <li><a href="#exercise-5-design-details" id="toc-exercise-5-design-details" class="nav-link" data-scroll-target="#exercise-5-design-details">Exercise 5: Design Details</a></li>
  <li><a href="#wrapping-up" id="toc-wrapping-up" class="nav-link" data-scroll-target="#wrapping-up">Wrapping up</a></li>
  </ul></li>
  <li><a href="#solutions" id="toc-solutions" class="nav-link" data-scroll-target="#solutions"><span class="header-section-number">2.2</span> Solutions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Effective Viz</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-caution callout-titled" title="Learning Goals">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning Goals
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Explore the guiding principles of effective visualizations</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled" title="Additional Resources">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Additional Resources
</div>
</div>
<div class="callout-body-container callout-body">
<p>For more information about the topics covered in this chapter, refer to the resources below:</p>
<ul>
<li><a href="https://www.urban.org/research/publication/do-no-harm-guide-applying-equity-awareness-data-visualization">Equity Awareness for Data Visualizations (html)</a> by Urban Institute</li>
<li><a href="https://clauswilke.com/dataviz/telling-a-story.html">Telling a story (Chp 29, html)</a> by Wilke</li>
</ul>
</div>
</div>
<section id="exercises" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="exercises"><span class="header-section-number">2.1</span> Exercises</h2>
<section id="exercise-1-professionalism" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercise-1-professionalism">Exercise 1: Professionalism</h3>
<p>Let’s examine weather in 3 Australian locations.</p>
<p>The following plot is fine for things like homework or just playing around. But we’ll make it more “professional” looking below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">y =</span> temp3pm, <span class="at">x =</span> temp9am, <span class="at">color =</span> location)) <span class="sc">+</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EffectiveVizActivities_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="408"></p>
</figure>
</div>
</div>
</div>
<section id="part-a" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-a">Part a</h4>
<p>Replace A, B, C, and D in the code below to:</p>
<ul>
<li>Add a short, but descriptive title. Under 10 words.</li>
<li>Change the x- and y-axis labels, currently just the names of the variables in the dataset. These should be short and include units.</li>
<li>Change the legend title to “Location” (just for practice, not because it’s better than “location”).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">y =</span> temp3pm, <span class="at">x =</span> temp9am, <span class="at">color =</span> location)) <span class="sc">+</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Temp at 9 am"</span>, <span class="at">y =</span> <span class="st">"Temp at 3 pm"</span>, <span class="at">title =</span> <span class="st">"9 am to 3pm Temperature Change by Location"</span>, <span class="at">color =</span> <span class="st">"Location"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EffectiveVizActivities_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="408"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="part-b" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-b">Part b</h4>
<p>When we’re including our plot in an article, paper, book, or other similar outlet, we should (and are expected to) provide a more descriptive figure caption. Typically, this is <em>instead</em> of a title and is more descriptive of what exactly is being plotted.</p>
<ul>
<li>Add a figure caption in the top of the chunk.</li>
<li>Include your x-axis, y-axis, and legend labels from Part a.</li>
<li>Render your Rmd and check out how the figure caption appears.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">y =</span> temp3pm, <span class="at">x =</span> temp9am, <span class="at">color =</span> location)) <span class="sc">+</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Temp at 9am"</span>, <span class="at">y =</span> <span class="st">"Temp at 3pm"</span>, <span class="at">color =</span> <span class="st">"Location"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="EffectiveVizActivities_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="408"></p>
<figcaption>The relationship between temperature at 9 am and the temperature at 3 pm in Hobart, Uluru, and Wollongong</figcaption>
</figure>
</div>
</div>
</div>
<p><br>
<br>
<br>
<br>
</p>
</section>
</section>
<section id="exercise-2-accessibility" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercise-2-accessibility">Exercise 2: Accessibility</h3>
<p>Let’s now make a graphic more accessible.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> temp3pm, <span class="at">fill =</span> location)) <span class="sc">+</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"3pm temperature (Celsius)"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="EffectiveVizActivities_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" alt="???" width="408"></p>
<figcaption>Density plots of 3pm temperatures in 3 Australian locations.</figcaption>
</figure>
</div>
</div>
</div>
<section id="part-a-1" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-a-1">Part a</h4>
<p>Let’s add some alt text that can be picked up by screen readers. This is a <a href="https://medium.com/nightingale/writing-alt-text-for-data-visualization-2a218ef43f81">great resource on writing alt text for data viz</a>. In short, whereas figure captions are quick descriptions which assume that the viz is accessible, alt text is a longer description which assumes the viz is not accessible. Alt text should concisely articulate:</p>
<ul>
<li>What your visualization is (e.g.&nbsp;a density plot of 3pm temperatures in Hobart, Uluru, and Wollongong, Australia).</li>
<li>A 1-sentence description of the most important <em>takeaway</em>.</li>
<li>A link to your data source if it’s not already in the caption.</li>
</ul>
<p>Add appropriate alt text at the top of the chunk, in <code>fig-alt</code>. Then knit your Rmd, and hover over the image in your knitted html file to check out the alt text.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> temp3pm, <span class="at">fill =</span> location)) <span class="sc">+</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"3pm temperature (Celsius)"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="EffectiveVizActivities_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" alt="A density plot of temperatures at 3pm in Wollongong, Hobart, and Uluru. The plot indicates that temperature is hottest in Uluru and coldest in Hobart." width="408"></p>
<figcaption>Density plots of 3pm temperatures in 3 Australian locations.</figcaption>
</figure>
</div>
</div>
</div>
<p><br>
<br>
<br>
<br>
</p>
</section>
<section id="part-b-1" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-b-1">Part b</h4>
<p>Color is another important accessibility consideration. Let’s check out the color accessibility of our density plot.</p>
<ul>
<li>Run the <code>ggplot()</code> code from Part a in your console. The viz will pop up in the Plots tab.</li>
<li>In the Plots tab, click “Export” then “Save as image”. Save the image somewhere.</li>
<li>Navigate to <a href="https://www.color-blindness.com/coblis-color-blindness-simulator/" class="uri">https://www.color-blindness.com/coblis-color-blindness-simulator/</a></li>
<li>Above the image of crayons (I think it’s crayons?), click “Choose file” and choose the plot file you just saved.</li>
<li>Click the various simulator buttons (eg: Red-Weak/Protanomaly) to check out how the colors in this plot might appear to others.</li>
<li>Summarize what you learn. What impact might our color choices have on one’s ability to interpret the viz?</li>
</ul>
</section>
<section id="part-c" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-c">Part c</h4>
<p>We can change our color schemes! There are many <a href="https://cran.r-project.org/web/packages/colorBlindness/vignettes/colorBlindness.html">color-blind friendly palettes in R</a>. In the future, we’ll set a default, more color-blind friendly color theme at the top of our Rmds. We can also do this individually for any plot that uses color. Run the chunks below to explore various options.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">x =</span> temp3pm, <span class="at">fill =</span> location)) <span class="sc">+</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"3pm temperature (Celsius)"</span>) <span class="sc">+</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>()    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EffectiveVizActivities_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="408"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In the color scale line:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Change "fill" to "color" since we use color in the aes()</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Change "d" (discrete) to "c" (continuous) since maxtemp is on a continuous scale</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(weather, <span class="fu">aes</span>(<span class="at">y =</span> temp3pm, <span class="at">x =</span> temp9am, <span class="at">color =</span> maxtemp)) <span class="sc">+</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"3pm temperature (Celsius)"</span>) <span class="sc">+</span> </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_c</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EffectiveVizActivities_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="408"></p>
</figure>
</div>
</div>
</div>
<p><br>
<br>
<br>
<br>
</p>
</section>
</section>
<section id="exercise-3-ethics" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercise-3-ethics">Exercise 3: Ethics</h3>
<p>Let’s scratch the surface of ethics in data viz.&nbsp;Central to this discussion is the consideration of <em>impact</em>.</p>
<section id="part-a-2" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-a-2">Part a</h4>
<p>At a minimum, our data viz should not mislead. Reconsider the climate change example from above. Why is this plot unethical and what impact might it have on policy, public opinion, etc?</p>
<p><img src="https://mac-stat.github.io/images/112/bad_viz/bad_viz_climate_change.png" class="img-fluid"></p>
</section>
<section id="part-b-2" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-b-2">Part b</h4>
<p>Again, data viz ethical considerations go beyond whether or not a plot is misleading. As described in the warm-up, we need to consider: visibility, privacy, power, emotion &amp; embodiment, pluralism, &amp; context. Depending upon the audience and goals of a data viz, addressing these points might require more nuance. Mainly, the viz tools we’ve learned are a great base or foundation, but aren’t the only approaches to data viz.&nbsp;</p>
<p>Pick one or more of the following examples of data viz to discuss with your group. How do the approaches taken:</p>
<ul>
<li>emphasize one or more of: visibility, privacy, power, emotion, embodiment, pluralism, and/or context?</li>
<li>improve upon what we might be able to convey with a simpler bar chart, scatterplot, etc?</li>
</ul>
<p><br>
<br>
</p>
<p>Example: <strong>W.E.B. Du Bois (1868–1963)</strong></p>
<p>Du Bois (“Doo Boys”) was a “sociologist, socialist, historian, civil rights activist, Pan-Africanist, author, writer, and editor”<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. He was also a <em>pioneer</em> in elevating emotion and embodiment in data visualization. For the Paris World Fair of 1900, Du Bois and his team of students from Atlanta University presented 60 data visualizations of the Black experience in America, less than 50 years after the abolishment of slavery. Du Bois noted: “I wanted to set down its aim and method in some outstanding way which would bring my work to notice by the thinking world.” That is, he wanted to increase the impact of his work by partnering technical visualizations with design that better connects to lived experiences. NOTE: This work uses language common to that time period and addresses the topic of slavery. Check out:</p>
<ul>
<li>A <a href="https://speakerdeck.com/ajstarks/du-bois-visualizations-originals">complete set of the data visualizations provided by Anthony Starks</a> (<span class="citation" data-cites="ajstarks">(<a href="#ref-ajstarks" role="doc-biblioref"><strong>ajstarks?</strong></a>)</span>).</li>
<li>An <a href="https://dataliteracy.com/web-du-bois-story-of-resilience/">article by Allen Hillery</a> (<span class="citation" data-cites="AlDatavizguy">(<a href="#ref-AlDatavizguy" role="doc-biblioref"><strong>AlDatavizguy?</strong></a>)</span>).</li>
</ul>
<p><br>
<br>
</p>
<p>Example: <strong>One person’s experience with long COVID</strong></p>
<p><a href="https://www.nytimes.com/interactive/2023/12/14/opinion/my-life-with-long-covid.html?unlocked_article_code=1.F00.Sz4i.NRF1fZrnwEIh&amp;smid=url-share">NYT article</a></p>
<p><br>
<br>
</p>
<p>Example: <strong>Decolonizing data viz</strong></p>
<p><a href="https://stephanieevergreen.com/decolonizing-data-viz/">blog post</a></p>
<p><br>
<br>
</p>
<p>Example: <strong>Visualizing climate change through art</strong></p>
<p><a href="https://www.variableprojects.com/#/phase-change/">Futures North with Prof John Kim &amp; Mac students</a> (by Prof Kim, Mac research students)</p>
<p><br>
<br>
</p>
<p>Example: <strong>Personal data collection</strong></p>
<p><a href="https://www.dear-data.com/by-week">Dear Data</a></p>
<p><br>
<br>
</p>
</section>
<section id="part-c-1" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-c-1">Part c</h4>
<p>For a deeper treatment of similar topics, and more examples, read <a href="https://data-feminism.mitpress.mit.edu/">Data Feminism</a>.</p>
<p><br>
<br>
<br>
<br>
</p>
</section>
</section>
<section id="exercise-4-critique" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercise-4-critique">Exercise 4: Critique</h3>
<p>Practice critiquing some more complicated data viz listed at <a href="http://mdsr-book.github.io/exercises.html#exercise_25">Modern Data Science with R, Exercise 2.5</a>.</p>
<p>Think about the following questions:</p>
<ul>
<li>What story does the data graphic tell? What is the main message that you take away from it?</li>
<li>Can the data graphic be described in terms of the Grammar of Graphics (frame, glyphs, aesthetics, facet, scale, guide)? If so, please describe.</li>
<li>Critique and/or praise the visualization choices made by the designer. Do they work? Are they misleading? Thought-provoking? Are there things that you would have done differently?</li>
</ul>
<p><br>
<br>
<br>
<br>
</p>
</section>
<section id="exercise-5-design-details" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exercise-5-design-details">Exercise 5: Design Details</h3>
<p>This final exercise is just “food for thought”. It’s more of a discussion than an exercise, and gets into some of the finer design details and data viz theory. Go as deep or not deep as you’d like here.</p>
<p>In refining the details of our data viz, <a href="https://www.amazon.com/Visualize-This-FlowingData-Visualization-Statistics/dp/0470944889/">Visualize This</a> and <a href="https://www.amazon.com/Storytelling-Data-Visualization-Business-Professionals/dp/1119002257">Storytelling with Data</a> provide some of <em>their</em> guiding principles. But again, every context is different.</p>
<ul>
<li>Put yourself in a reader’s shoes. What parts of the data need explanation?</li>
<li>Shine a light on your data. Try to remove any “chart junk” that distracts from the data.</li>
<li>Vary color and style to emphasize the viz elements that are most important to the story you’re telling.</li>
<li>It is easier to judge length than it is to judge area or angles.</li>
<li>Be thoughtful about how your categories are ordered for categorical data.</li>
</ul>
<p>Getting into even more of the nitty gritty, we need to be mindful of what geometric elements and aesthetics we use. The following elements/aesthetics are listed in roughly descending order of human ability to perceive and compare nearby objects:<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<ol type="1">
<li>Position</li>
<li>Length</li>
<li>Angle</li>
<li>Direction</li>
<li>Shape (but only a very few different shapes)</li>
<li>Area</li>
<li>Volume</li>
<li>Shade</li>
<li>Color. (Color is the most difficult, because it is a 3-dimensional quantity.)</li>
</ol>
<p>Finally, here are some facts to keep in mind about visual perception from <a href="https://www.amazon.com/Now-You-See-Visualization-Quantitative/dp/0970601980">Now You See It</a>.</p>
<section id="part-a-selectivity" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-a-selectivity">Part a: Selectivity</h4>
<p>Visual perception is selective, and our attention is often drawn to contrasts from the norm.</p>
<p><strong>Implication</strong>: We should design visualizations so that the features we want to highlight stand out in contrast from those that are not worth the audience’s attention.</p>
<p><strong>Example</strong>: What stands out in this example image? This is originally from C. Ware, <em>Information Visualization: Perception for Design</em>, 2004? Source: S. Few, <em>Now You See It</em>, 2009, p.&nbsp;33.</p>
<p><img src="https://mac-stat.github.io/images/112/contrast.png" class="img-fluid"></p>
</section>
<section id="part-b-familiarity" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-b-familiarity">Part b: Familiarity</h4>
<p>Our eyes are drawn to familiar patterns. We observe what we know and expect.</p>
<p><strong>Implication</strong>: Visualizations work best when they display information as patterns that familiar and easy to spot.</p>
<p><strong>Example</strong>: Do you notice anything embedded in this rose image from coolbubble.com? Source: S. Few, <em>Now You See It</em>, 2009, p.&nbsp;34.</p>
<p><img src="https://mac-stat.github.io/images/112/rose1.png" class="img-fluid"></p>
</section>
<section id="part-c-revisit" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="part-c-revisit">Part c: Revisit</h4>
<p>Revisit Part b. Do you notice anything in the shadows? Go to <a href="https://mac-stat.github.io/images/112/rose2.png" class="uri">https://mac-stat.github.io/images/112/rose2.png</a> for an image.</p>
<p><br>
<br>
<br>
<br>
</p>
</section>
</section>
<section id="wrapping-up" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="wrapping-up">Wrapping up</h3>
<p>If you finish early:</p>
<ul>
<li>Work on homework if not done already</li>
<li>Complete any activities you haven’t finished yet, eg, spatial viz, the optional but fun exercises in the Multivariate viz and Bivariate viz activities.</li>
<li>If you’ve done all that, explore some datasets in <a href="https://github.com/rfordatascience/tidytuesday/tree/master">TidyTuesday</a>.</li>
</ul>
<p><br>
<br>
<br>
<br>
</p>
</section>
</section>
<section id="solutions" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="solutions"><span class="header-section-number">2.2</span> Solutions</h2>
<p>The exercises today are discussion based. There are no “solutions”. Happy to chat in office hours about any ideas here!</p>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>https://en.wikipedia.org/wiki/W._E._B._Du_Bois<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>B. S. Baumer, D. T. Kaplan, and N. J. Horton, <em>Modern Data Science with R</em>, 2017, p.&nbsp;15.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../activities/Multivariate-viz-exercises.html" class="pagination-link" aria-label="Multivariate Viz">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Multivariate Viz</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../activities/Spacial_Viz.html" class="pagination-link" aria-label="Spatial viz">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Spatial viz</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>